<div class="page-block">

  <%= render partial: "layouts/shared/breadcrumbs", locals: { linkText: @title } %>

  <div class="block-content-solo-wrapper md">
    <div class="inline-flex">
      <%= link_to 'New Product', new_admin_product_path, class: "bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded" %>
      <p id="notice"><%= notice %></p>
    </div>
  </div>

  <div class="content-block">  
            
    <div class="w-full">
      <table class="table-auto w-full">
        <thead>
          <tr>
            <th class="px-4 py-2">Title</th>
            <th class="px-4 py-2">Date</th>
            <th class="px-4 py-2">Type</th>
            <th class="px-4 py-2">Status</th>
            <th class="px-4 py-2">Price</th>
            <th colspan="4"></th>
          </tr>
        </thead>
        
        <tbody>
          <% if @products %>
            <% @products.each do |product| %>
              <tr>
                <td class="border px-4 py-2"><%= product.title %></td>
                <td class="border px-4 py-2"><%= product.date.to_s(:long) %></td>
                <td class="border px-4 py-2"><%= product.product_type.capitalize %></td>
                <td class="border px-4 py-2"><%= product.status.capitalize %></td>
                <td class="border px-4 py-2 text-center">
                  <%= link_to 'Preview', preview_admin_product_path(product), class: "bg-transparent border-solid inline-block hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>
                </td>
                <td class="border px-4 py-2 text-center">
                  <%= link_to 'Show', admin_product_path(product), class: "bg-transparent border-solid inline-block hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>
                </td>
                <td class="border px-4 py-2 text-center">
                  <%= link_to 'Edit', edit_admin_product_path(product), class: "bg-transparent border-solid inline-block hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded" %>
                </td>
                <td class="border px-4 py-2 text-center">
                  <%= link_to 'Destroy', admin_product_path(product), method: :delete, data: { confirm: 'Are you sure?' }, class: "bg-red-500 border-solid inline-block hover:bg-red-700 text-white font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded" %>
                </td>
              </tr>
            <% end %>
          <% end %>
        </tbody>
      </table>
    </div>

  </div>

  <% if @paginated %>
    <div class="block-content-solo-wrapper">
      <div class="inline-flex">
        <%= link_to 'Previous', { controller: "products", action: "index", page: @page - 1 }, class: "block-button" unless @page <= 0 %>
        <%= link_to "Next", { controller: "products", action: "index", page: @page + 1 }, class: "block-button" unless @page >= @paginated -1  %>
      </div>
    </div>
  <% end %>

</div>